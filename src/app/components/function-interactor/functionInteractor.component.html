<div *ngIf="hide == false">
  <p> Reverse Polish Notation: {{RPString}} </p>
  <h1>Calculate value & gradient</h1>

  <div *ngFor="let sub of substitutions; let i = index;">
    <mat-form-field>
      <input matInput required placeholder="Substitute {{substitutions[i][0]}}" [name]="'sub_' + i" type="number" [(ngModel)]="substitutions[i][1]" />
    </mat-form-field>
  </div>

  <button mat-raised-button type="button" (click)="evaluate()" color="primary">Evaluate</button>
  <p>{{evaluateResult}}</p>

  <mat-form-field>
    <mat-label> Gradient variable </mat-label>
    <input required matInput placeholder="e.g 'x'" type="text" [(ngModel)]="gradientVariable" />
  </mat-form-field> <br>

  <button mat-raised-button type="button" (click)="gradient()" color="primary">Gradient</button>
  <p>{{gradientResult}}</p>

  <h1>Plot</h1>

  <mat-form-field>
    <mat-label> Plot increment variable </mat-label>
    <input required matInput placeholder="e.g 'x'" type="text" [(ngModel)]="plotIncrementVariable" />
  </mat-form-field> <br>

  <mat-form-field>
    <mat-label> Plot variable start </mat-label>
    <input required matInput placeholder="e.g '-10'" type="number" [(ngModel)]="plotVariableStart" />
  </mat-form-field>

  <mat-form-field>
    <mat-label> Plot variable end </mat-label>
    <input required matInput placeholder="e.g '10'" type="number" [(ngModel)]="plotVariableEnd" />
  </mat-form-field>

  <mat-form-field>
    <mat-label> Plot increment </mat-label>
    <input required matInput placeholder="e.g '1'" type="number" [(ngModel)]="plotIncrement" />
  </mat-form-field>

  <button mat-raised-button type="button" (click)="plot()" color="primary">Plot</button>
  <graph #plot0></graph>

  <h1>Solve</h1>

  <mat-form-field>
    <mat-label> Solve variable </mat-label>
    <input required matInput placeholder="e.g 'x'" type="text" [(ngModel)]="solveVariable" />
  </mat-form-field>

  <mat-form-field>
    <mat-label> Solve variable start </mat-label>
    <input required matInput placeholder="Value close to root" type="number" [(ngModel)]="variableStart" />
  </mat-form-field>

  <button mat-raised-button type="button" (click)="solve()" color="primary">Solve</button>
  <p> {{solveResult}} </p>
</div>
